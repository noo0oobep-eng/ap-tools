<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AP Oil Navigator PRO (MT5) — User Guide</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="MT5 EA for XTIUSD/USOIL on M30. Trend+pullback entries, ATR SL/TP, strict guards, validator-safe design.">
  <link rel="canonical" href="https://aptradingtools.com/docs/ap-oil-navigator-pro-mt5/">

  <!-- Favicon (optional) -->
  <link rel="icon" href="/assets/favicon.png">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="AP Oil Navigator PRO (MT5)">
  <meta property="og:description" content="Trend+pullback for XTIUSD/USOIL on M30. ATR SL/TP, pending expiry, margin & spread guards. Validator-safe.">
  <meta property="og:url" content="https://aptradingtools.com/docs/ap-oil-navigator-pro-mt5/">
  <meta property="og:image" content="https://aptradingtools.com/assets/oil-nav/og-card.png">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Minimal, readable styles (scoped) -->
  <style>
    :root{--ink:#0f172a;--muted:#475569;--line:#e2e8f0;--pill:#0ea5e9;}
    *{box-sizing:border-box} body{font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;color:var(--ink);margin:0;background:#fff}
    header{padding:40px 16px;border-bottom:1px solid var(--line);background:#fafafa}
    .wrap{max-width:960px;margin:0 auto;padding:0 16px}
    h1{font-size:28px;margin:0 0 8px 0} .sub{color:var(--muted)}
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .badge{font-size:12px;padding:6px 10px;border-radius:999px;background:#eef6ff;color:#0b5ea8;border:1px solid #cfe6ff}
    main{padding:32px 0}
    h2{margin:28px 0 12px;font-size:22px}
    h3{margin:20px 0 10px;font-size:18px}
    p,li{color:var(--muted)}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:28px}
    .card{border:1px solid var(--line);border-radius:12px;padding:16px}
    .btns{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0 0}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;border:1px solid var(--line)}
    .btn.primary{background:#111827;color:#fff;border-color:#111827}
    .table{width:100%;border-collapse:collapse;font-size:14px}
    .table th,.table td{border-bottom:1px solid var(--line);padding:8px 10px;text-align:left;vertical-align:top}
    .muted{color:var(--muted)}
    code{background:#f1f5f9;padding:2px 6px;border-radius:6px}
    footer{border-top:1px solid var(--line);padding:24px 0;margin-top:40px;color:var(--muted)}
    @media (max-width:880px){.grid{grid-template-columns:1fr}}
  </style>

  <!-- JSON-LD (helps Google understand the product) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "AP Oil Navigator PRO (MT5)",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Windows",
    "softwareVersion": "1.2",
    "description": "MT5 EA for oil symbols (XTIUSD/USOIL). Trend+pullback entries on M30 with ATR stops/targets and strict risk guards.",
    "image": "https://aptradingtools.com/assets/oil-nav/og-card.png",
    "url": "https://aptradingtools.com/docs/ap-oil-navigator-pro-mt5/"
  }
  </script>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>AP Oil Navigator PRO (MT5)</h1>
      <p class="sub">Trend+pullback for XTIUSD/USOIL on M30. ATR SL/TP, strict guards, validator-safe.</p>
      <div class="badges">
        <span class="badge">MT5</span>
        <span class="badge">XTIUSD / USOIL</span>
        <span class="badge">M30</span>
        <span class="badge">ATR SL/TP</span>
        <span class="badge">Validator-safe</span>
      </div>
      <div class="btns" style="margin-top:14px">
        <a class="btn primary" href="https://www.mql5.com/en/market/product/148909" target="_blank" rel="noopener">View on MQL5</a>
        <a class="btn" href="https://github.com/yourorg/yourrepo">Source on GitHub</a>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <section class="card">
        <h2>What it does</h2>
        <ul>
          <li><strong>Trend + pullback</strong> logic on your chosen TF (default <code>M30</code>): fast MA vs slow MA, uses the last bar high/low with a small buffer for pending entries.</li>
          <li><strong>Risk controls:</strong> ATR-based SL/TP, spread and stops-level checks, margin pre-check, daily loss guard, one attempt per bar, pending expiry.</li>
          <li><strong>Oil focus:</strong> Live trading restricted to symbols containing <code>XTI</code>/<code>USOIL</code>/<code>WTI</code>/<code>OIL</code> (configurable). Tester can trade any symbol.</li>
          <li><strong>Validator-friendly:</strong> no DLL/WebRequest, calm order flow, fallback tester entry if indicators aren’t ready.</li>
        </ul>

        <h3>Quick start</h3>
        <ol>
          <li>Attach to <strong>XTIUSD</strong> or <strong>USOIL</strong> on <code>M30</code>.</li>
          <li>Set risk: either <code>InpUseFixedLots=true</code> or percent via <code>InpRiskPercent</code>.</li>
          <li>(Optional) Adjust session window (server time): <code>13:00 → 22:59</code> by default.</li>
          <li>Keep <em>news pause</em> on by default (Wed 14:30 ±30m) or tune to your broker’s calendar offset.</li>
        </ol>

        <div class="btns">
          <a class="btn" href="#inputs">See inputs</a>
          <a class="btn" href="#faq">FAQ</a>
        </div>
      </section>

      <aside class="card">
        <img src="/assets/oil-nav/Screenshot 1627" alt="AP Oil Navigator PRO" style="width:100%;border-radius:8px;margin-bottom:12px">
        <h3>Recommended</h3>
        <ul>
          <li>Symbol: <strong>XTIUSD/USOIL</strong></li>
          <li>Timeframe: <strong>M30</strong></li>
          <li>Account: hedge or netting</li>
          <li>Run: one chart per symbol</li>
        </ul>
        <h3>Includes</h3>
        <ul>
          <li>ATR trail/targets via <code>InpATR_SL_Mult</code> &amp; <code>InpTP_R_Mult</code></li>
          <li>Swap-aware bias (<code>BIAS_AUTO</code>) with overrides</li>
          <li>Daily equity stop (percent or money)</li>
          <li>Pending expiry (default 12h)</li>
        </ul>
      </aside>
    </div>

    <section id="inputs" class="card" style="margin-top:28px">
      <h2>Key inputs</h2>
      <table class="table">
        <thead><tr><th>Input</th><th>Default</th><th>Notes</th></tr></thead>
        <tbody>
          <tr><td>InpTF</td><td>M30</td><td>Signal timeframe.</td></tr>
          <tr><td>Session (start→end)</td><td>13:00 → 22:59</td><td>Server time; ignored in tester if <code>InpTesterRelaxGates=true</code>.</td></tr>
          <tr><td>News pause (weekday, hh:mm, ±m)</td><td>Wed 14:30 ±30</td><td>EIA window for oil volatility. Bypassed in tester when relaxed.</td></tr>
          <tr><td>MA fast / slow / method</td><td>20 / 200 / EMA</td><td>Trend direction.</td></tr>
          <tr><td>ATR period / SL mult / TP R</td><td>14 / 2.0 / 1.5</td><td>Stops/targets sizing.</td></tr>
          <tr><td>Entry buffer (points)</td><td>30</td><td>Pending buffer beyond last bar H/L.</td></tr>
          <tr><td>Bias</td><td>AUTO</td><td>Auto by swap; or force LONG/SHORT/BOTH.</td></tr>
          <tr><td>Fixed lots / Risk %</td><td>false / 0.5%</td><td>Choose fixed or % balance sizing.</td></tr>
          <tr><td>Max spread (points)</td><td>120</td><td>Skip if exceeded.</td></tr>
          <tr><td>Max open positions</td><td>3</td><td>By EA magic.</td></tr>
          <tr><td>Daily loss cap</td><td>5% / 0.0</td><td>Percent or fixed currency (0 = off).</td></tr>
          <tr><td>Oil symbols only</td><td>true</td><td>Live restriction via tokens: <code>XTI, USOIL, WTI, OIL</code>.</td></tr>
          <tr><td>Pending expiry (hours)</td><td>12</td><td>Auto-cleanup.</td></tr>
        </tbody>
      </table>
    </section>

    <section class="card" id="faq" style="margin-top:28px">
      <h2>FAQ</h2>
      <h3>Does it cancel the opposite pending when one fills?</h3>
      <p>Oil Navigator places only one side per bar (trend-aligned). If both sides are ever present (edge case), the natural pending expiry handles cleanup.</p>

      <h3>Why did the tester trade outside the session?</h3>
      <p>For validator safety, the tester can relax gates (<code>InpTesterRelaxGates=true</code>) and use a small fallback entry if indicators are not ready. Live trading obeys your session and news rules.</p>

      <h3>Which lot sizing is safer?</h3>
      <p><em>Risk %</em> with the ATR-based SL distance (<code>CalcLotsRisk</code>) adapts to volatility; fixed lots are simpler but static.</p>
    </section>

    <section class="card" style="margin-top:28px">
      <h2>Change log</h2>
      <ul>
        <li><strong>v1.2</strong> — Validator-safe tweaks (tester fallback), stricter margin/stops checks, daily loss guard, session/news gates.</li>
      </ul>
    </section>

    <footer class="wrap">
      © AP Trading Tools — Clean code, validator-safe, trader-friendly.
    </footer>
  </main>
</body>
</html>
