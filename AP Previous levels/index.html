<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AP Previous Levels — Docs</title>
<style>
:root{
  --bg:#0b0f14;
  --card:#121822;
  --text:#e8eef6;
  --muted:#9fb0c3;
  --accent:#58a6ff;
  --border:#1d2633;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
.wrap{max-width:900px;margin:0 auto;padding:24px}
h1{margin:0 0 8px;font-size:28px}
.lead{color:var(--muted);margin:0 0 18px}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px;
  margin:14px 0;
}
h2{margin:8px 0 6px}
ul,ol{margin:6px 0 0 18px}
footer{color:var(--muted);text-align:center;padding:28px}
.muted{color:var(--muted)}

/* buttons */
.btns{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin:12px 0 24px;
}
.btn{
  display:inline-block;
  text-decoration:none;
  color:#000;
  background:var(--accent);
  padding:8px 12px;
  border-radius:10px;
  font-weight:600;
  border:none;
  cursor:pointer;
}
.btn:hover{filter:brightness(1.05);}
.btn.ghost,
a.ghost{
  background:transparent;
  color:var(--accent);
  border:1px solid var(--accent);
}

/* email form */
label{
  display:block;
  margin-bottom:6px;
  font-size:14px;
  color:var(--muted);
}
input[type="email"]{
  width:100%;
  max-width:320px;
  padding:8px 10px;
  border-radius:8px;
  border:1px solid var(--border);
  background:#0e141d;
  color:var(--text);
  margin-bottom:10px;
}
form small{font-size:12px;}
</style>
</head>
<body>
  <div class="wrap">
    <a class="ghost btn" href="../">← Back to Home</a>

    <h1>AP Previous Levels</h1>
    <p class="lead">
      Marks prior session/day/week levels with neutral styling for quick context. Designed to be light and screenshot-friendly.
    </p>

    <!-- Email + download card -->
    <div class="card">
      <h2>Get AP Previous Levels (free)</h2>
      <form id="download-form"
            action="https://formspree.io/f/xkgkrzye"
            method="POST">
        <label for="email">
          Enter your email to get the .zip download:
        </label>
        <input id="email"
               name="email"
               type="email"
               required
               placeholder="you@example.com" />
        <input type="hidden" name="product" value="AP Previous Levels (MT5)">
        <div class="btns" style="margin-top:8px;">
          <button class="btn" type="submit">Download Free (MT5)</button>
        </div>
        <small class="muted"></small>
      </form>
    </div>

    <div class="card">
      <h2>What it shows</h2>
      <ul>
        <li>Prior session highs/lows (Asia, London, New York) — optional per session.</li>
        <li>Previous daily/weekly highs and lows.</li>
        <li>Clean labels and line styles that respect dark/light charts.</li>
      </ul>
    </div>

    <div class="card">
      <h2>Quick Start</h2>
      <ol>
        <li>Attach to any chart &amp; timeframe.</li>
        <li>Enable the sessions/periods you want (e.g., London H/L, Prior Day H/L, Prior Week H/L).</li>
        <li>Choose lookback (how many past days/weeks to draw) and line/label style.</li>
      </ol>
    </div>

    <div class="card">
      <h2>Main Inputs (summary)</h2>
      <ul>
        <li><b>Show Asia / London / NY</b> — toggle previous session levels.</li>
        <li><b>Show Prior Day / Prior Week</b> — toggle previous day/week levels.</li>
        <li><b>LookbackDays / LookbackWeeks</b> — how many to plot.</li>
        <li><b>LineStyle / Width / Color</b> — visual styling (kept neutral by default).</li>
        <li><b>Labels</b> — on/off, position, and compact naming.</li>
      </ul>
    </div>

    <div class="card">
      <h2>Notes</h2>
      <ul>
        <li>No signals/claims — just clean reference levels for planning and reviews.</li>
        <li>Support via MQL5 messages/comments only.</li>
      </ul>
    </div>

    <div class="card">
      <h2>Files in this folder</h2>
      <ul>
        <li><code>AP_Previous_Levels_MT5.zip</code> — indicator + extras (downloaded via the form)</li>
        <li><code>Quick_Start.md</code> — usage &amp; inputs</li>
        <li><code>Pinned_Comment.txt</code> — short MQL5 pinned comment</li>
        <li><code>Version.txt</code> — version tag</li>
        <li>Any PNG screenshots you add for the docs</li>
      </ul>
    </div>

    <footer>© AP Trading Tools • Built for MetaTrader 5</footer>
  </div>

  <script>
    (function () {
      const form = document.getElementById('download-form');
      if (!form) return;

      form.addEventListener('submit', async function (e) {
        e.preventDefault();
        const data = new FormData(form);

        try {
          await fetch(form.action, {
            method: 'POST',
            body: data,
            headers: { 'Accept': 'application/json' }
          });
        } catch (err) {
          // ignore errors – still give the download
        }

        // Trigger the zip download (same folder as this index.html)
        window.location.href = 'AP_Previous_Levels_MT5.zip';
      });
    })();
  </script>
</body>
</html>
